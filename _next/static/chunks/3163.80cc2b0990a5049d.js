"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3163],{63163:function(e,r,n){n.r(r),n.d(r,{default:function(){return s}});var o=n(67294),t=n(57069),a=n(24448),i=n(85893);function s(){var e=(0,o.useRef)(null);return(0,o.useLayoutEffect)(function(){var r,n;if(!e.current||!(null!=(r=e.current)&&r.contentWindow)){console.error("iframe not ready");return}window.hostBridge=new t.el({remoteFrame:null==(n=e.current)?void 0:n.contentWindow,remoteFrameName:"FRAME",selfFrameName:"HOST",channel:"onekey-js-sdk",receiveHandler:function(e){var r=e.data,n=r.method;if(console.log("receiveHandler >>>>> ",{method:n,params:r.params}),"hi"===n)return"from HOST: hahahah";if("hello"===n)return{message:"from HOST: okok"};if("error"===n)throw Error("from HOST: something is wrong")}})},[]),(0,i.jsxs)("div",{children:[["hi","hello","error"].map(function(e,r){return(0,i.jsxs)("button",{onClick:function(){(0,a.b)({method:e,params:[{index:r}]},window.hostBridge)},children:["sendToFrame (",e,")"]},e)}),(0,i.jsx)("iframe",{ref:e,src:"/iframe/frame",style:{width:"100%",height:"400px"},frameBorder:0})]})}},24448:function(e,r,n){n.d(r,{b:function(){return t}});var o=n(15861);function t(e,r){return a.apply(this,arguments)}function a(){return(a=(0,o.Z)(function*(e,r){var n=e.method,o=e.params;try{var t=yield null==r?void 0:r.request({scope:"$hardware_sdk",data:{method:n,params:o}});console.log("result >>>>",n," --> ",t)}catch(e){console.error("bridge send ERROR response: ",n," --> ",e)}})).apply(this,arguments)}}}]);
//# sourceMappingURL=3163.80cc2b0990a5049d.js.map