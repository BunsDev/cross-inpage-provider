(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3598],{16881:function(n,e,t){"use strict";t.d(e,{F:function(){return c}});var c=[{name:"SEAM",url:"https://app.seam.money/"},{name:"Aptos Names",url:"https://www.aptosnames.com/"},{name:"Liquid Swap",url:"https://liquidswap.com/#/"}]},913:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return f}});var c=t(15861),o=t(97685),i=t(67294),a=t(63596),r=t(23044),s=t(16881),l=t(84284),u=t(85893),d=function(){var n=(0,i.useState)(),e=(0,o.Z)(n,2),t=e[0],c=e[1];return(0,i.useEffect)(function(){console.log("useProvider",window.martian),c(window.martian||new a.GR({}))},[]),t};function f(){var n,e,t,a,f,g,p,h,b,y,x,C,j,m,T,k,S,w,A,v=d(),Z=(0,i.useState)(""),N=(0,o.Z)(Z,2),_=N[0],I=N[1],G=(0,i.useState)(!1),F=(0,o.Z)(G,2),K=F[0],B=F[1],D=(0,i.useState)(null),z=(0,o.Z)(D,2),E=z[0],M=z[1],O=(0,i.useState)("OneKey-Collection"),R=(0,o.Z)(O,2),U=R[0],L=R[1],q=(0,i.useState)("OneKey-NFT-1"),J=(0,o.Z)(q,2),P=J[0],H=J[1];if((0,i.useEffect)(function(){if(v)return v.onNetworkChange(function(n){I(n),console.log("aptos [onNetworkChange] "+n)}),v.onAccountChange(function(n){M(n),n?(B(!0),console.log("aptos [onAccountChange] Switched account to "+n)):(B(!1),console.log("aptos [onAccountChange] Switched unknown account"),v.connect().then(function(){return console.log("[accountChanged] Reconnected successfully")}).catch(function(n){console.log("[accountChanged] Failed to re-connect: "+n.message)}))}),function(){v.disconnect()}},[v]),!v)return(0,u.jsx)("h2",{children:"Could not find a provider"});var W=(n=(0,c.Z)(function*(){try{var n=yield v.connect(),e=yield v.network();M(n.address),I(e),B(!0),console.log("[connectWallet] account",n,e)}catch(n){console.warn(n),console.log("[error] connect: "+JSON.stringify(n))}}),function(){return n.apply(this,arguments)}),V=(e=(0,c.Z)(function*(){try{yield v.disconnect()}catch(n){console.warn(n),console.log("[error] disconnect: "+JSON.stringify(n))}}),function(){return e.apply(this,arguments)}),Q=(t=(0,c.Z)(function*(){var n=yield v.generateTransaction(E,{function:"0x1::coin::transfer",type_arguments:["0x1::aptos_coin::AptosCoin"],arguments:[E,50]},{max_gas_amount:"10000"});return console.log("[generateTransaction]",n),n}),function(){return t.apply(this,arguments)}),X=(a=(0,c.Z)(function*(){var n=yield Q();console.log("[signAndSubmitTransaction]",(yield v.signAndSubmitTransaction(n)))}),function(){return a.apply(this,arguments)}),Y=(f=(0,c.Z)(function*(){var n=yield Q(),e=yield v.signTransaction(n);return console.log("[signTransaction]",e),e}),function(){return f.apply(this,arguments)}),$=(g=(0,c.Z)(function*(){var n=yield Y();console.log("[submitTransaction]",(yield v.submitTransaction(n)))}),function(){return g.apply(this,arguments)}),nn=(p=(0,c.Z)(function*(){console.log("[signGenericTransaction]",(yield v.signGenericTransaction({func:"0x1::coin::transfer",args:[E,500],type_args:["0x1::aptos_coin::AptosCoin"]})))}),function(){return p.apply(this,arguments)}),ne=(h=(0,c.Z)(function*(){console.log("[generateSignAndSubmitTransaction]",(yield v.generateSignAndSubmitTransaction(E,{function:"0x1::coin::transfer",type_arguments:["0x1::aptos_coin::AptosCoin"],arguments:[E,50]})))}),function(){return h.apply(this,arguments)}),nt=(b=(0,c.Z)(function*(){console.log("[signMessage]",(yield v.signMessage({address:!1,application:!0,chainId:!0,message:"This is a sample message",nonce:12345})))}),function(){return b.apply(this,arguments)}),nc=(y=(0,c.Z)(function*(){console.log("[createCollection]",(yield v.createCollection(U,"CollectionDescription","https://aptos.dev")))}),function(){return y.apply(this,arguments)}),no=(x=(0,c.Z)(function*(){console.log("[createToken]",(yield v.createToken(U,P,"TokenDescription",1,"https://aptos.dev/img/nyan.jpeg",1)))}),function(){return x.apply(this,arguments)}),ni=(C=(0,c.Z)(function*(){console.log("[getTransactions]",(yield v.getTransactions()))}),function(){return C.apply(this,arguments)}),na=(j=(0,c.Z)(function*(){console.log("[getTransaction]",(yield v.getTransaction("0xbeb1f8c4e66bf0f58afca8c83338fd9a54490d46ce25fe9c8674b67f1e7bbd3a")))}),function(){return j.apply(this,arguments)}),nr=(m=(0,c.Z)(function*(){console.log("[getAccountTransactions]",(yield v.getAccountTransactions(E)))}),function(){return m.apply(this,arguments)}),ns=(T=(0,c.Z)(function*(){console.log("[getAccountResources]",(yield v.getAccountResources(E)))}),function(){return T.apply(this,arguments)}),nl=(k=(0,c.Z)(function*(){console.log("[getAccount]",(yield v.getAccount(E)))}),function(){return k.apply(this,arguments)}),nu=(S=(0,c.Z)(function*(){console.log("[getChainId]",(yield v.getChainId()))}),function(){return S.apply(this,arguments)}),nd=(w=(0,c.Z)(function*(){console.log("[getLedgerInfo]",(yield v.getLedgerInfo()))}),function(){return w.apply(this,arguments)}),nf=(A=(0,c.Z)(function*(){var n="0xaa90e0d9d16b63ba4a289fb0dc8d1b454058b21c9b5c76864f825d5c1f32582e",e=new l.Ce.Serializer;l.Ce.serializeVector(["0x5c7b342e9ee2e582ad16fb602e8ebb6ba39b3bfa02a4fd3865853b10dc75765f","0xa3f6a53c57395401ce64f09a188e2259dc9b156387e76c88a7a80a8fe5254476"].map(function(n){return l.Kj.AccountAddress.fromHex(n)}),e);var t=new l.Kj.TransactionPayloadEntryFunction(l.Kj.EntryFunction.natural("0xaa90e0d9d16b63ba4a289fb0dc8d1b454058b21c9b5c76864f825d5c1f32582e::creator","init_wallet_creation",[],[e.getBytes(),l.Ce.bcsSerializeU8(2),l.Ce.bcsSerializeUint64(1e7),l.Ce.bcsSerializeBytes(new l.i8("b5e97db07fa0bd0e5598aa3643a9bc6f6693bddc1a9fec9e674a461eaa00b193a527b6487c9ba480a3dbfbc351a3fcafd0a5044a0b3c877f759fa5df64a692f1000000000000000002aa90e0d9d16b63ba4a289fb0dc8d1b454058b21c9b5c76864f825d5c1f32582e0d6d6f6d656e74756d5f7361666508726567697374657200010c0b77616c6c6574206e616d65e02e0000000000007800000000000000fa7984630000000001").toUint8Array()),l.Ce.bcsSerializeBytes(new l.i8("fc284900723375e6b087a166c04edf6a1b71a361ad671608a849b733a878aaf910150dcf28e0f197675137abb328db6b55a6d98bee53413ad49c16549c1f0701").toUint8Array())])),c=yield v.getAccount(n).then(function(n){return BigInt(n.sequence_number)+BigInt(1)}),o=new l.Kj.RawTransaction(l.Kj.AccountAddress.fromHex(n),c,t,BigInt(20123),BigInt(123),BigInt(1793884475),new l.Kj.ChainId(1)),i=l.Ce.bcsToBytes(o),a=yield v.signTransaction(l.i8.fromUint8Array(i).noPrefix()),r=Uint8Array.from(a.split(",").map(function(n){return Number(n)}));console.log("[msafeMultiSignature] success ",JSON.stringify(l.Kj.SignedTransaction.deserialize(new l.Ce.Deserializer(r)),function(n,e){return"bigint"==typeof e?e.toString():e}))}),function(){return A.apply(this,arguments)});return(0,u.jsxs)("div",{children:[(0,u.jsx)(r.p,{dapps:s.F}),!v&&(0,u.jsx)("a",{target:"_blank",href:"https://www.onekey.so/download/",children:"Install OneKey Extension →"}),(0,u.jsx)("main",{children:v&&K?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{children:[(0,u.jsxs)("pre",{children:["Network: ",_]}),(0,u.jsxs)("pre",{children:["Connected as: ",E]})]}),(0,u.jsx)("button",{onClick:Q,children:"Generate Transaction"}),(0,u.jsx)("button",{onClick:X,children:"Sign&Send Transaction"}),(0,u.jsx)("button",{onClick:Y,children:"Sign Transaction "}),(0,u.jsx)("button",{onClick:$,children:"Submit Transaction "}),(0,u.jsx)("button",{onClick:nn,children:"Sign Generic Transaction "}),(0,u.jsxs)("button",{onClick:ne,children:["Generate Sign&Send Transaction"," "]}),(0,u.jsx)("button",{onClick:nt,children:"Sign Message"}),(0,u.jsx)("button",{onClick:ni,children:"Get Transactions"}),(0,u.jsx)("button",{onClick:na,children:"Get Transaction"}),(0,u.jsx)("button",{onClick:nr,children:"Get Account Transaction"}),(0,u.jsx)("button",{onClick:ns,children:"Get Account Resources"}),(0,u.jsx)("button",{onClick:nl,children:"Get Account"}),(0,u.jsx)("button",{onClick:nu,children:"Get ChainId"}),(0,u.jsx)("button",{onClick:nd,children:"Get LedgerInfo"}),(0,u.jsx)("button",{onClick:function(){return V()},children:"Disconnect"}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{border:"1px solid #cccccc",flexDirection:"column"},children:[(0,u.jsxs)("pre",{children:["Collection Name: ",(0,u.jsx)("input",{type:"text",placeholder:"Collection Name",value:U,onChange:function(n){return L(n.target.value)}})," 不能重名，要改名字。"]}),(0,u.jsx)("pre",{children:(0,u.jsx)("button",{onClick:nc,children:"Create Collection"})})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{border:"1px solid #cccccc",flexDirection:"column"},children:[(0,u.jsxs)("pre",{children:["Collection Name: ",(0,u.jsx)("input",{type:"text",placeholder:"Collection Name",value:U,onChange:function(n){return L(n.target.value)}})," 指定链上已经存在的 Collection Name。"]}),(0,u.jsxs)("pre",{children:["NFT Name: ",(0,u.jsx)("input",{type:"text",placeholder:"Token Name",value:P,onChange:function(n){return H(n.target.value)}})," NFT Name 不能重名，要改名字。"]}),(0,u.jsx)("pre",{children:(0,u.jsx)("button",{onClick:no,children:"Create Token"})})]}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{style:{border:"1px solid #cccccc",flexDirection:"column"},children:["Msafe Multi-signature Demo (Mainnet)",(0,u.jsx)("pre",{children:(0,u.jsx)("button",{onClick:nf,children:"Sign Transaction"})})]})]}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("button",{onClick:function(){return W()},children:"Connect Wallet"})})})]})}},23044:function(n,e,t){"use strict";t.d(e,{p:function(){return a}}),t(67294);var c=t(99034),o=t.n(c),i=t(85893);function a(n){var e=n.dapps;return(0,i.jsxs)("div",{className:o().container,children:[(0,i.jsx)("h3",{children:"Top DApps"}),(0,i.jsx)("ul",{children:e.map(function(n){return(0,i.jsx)("li",{children:(0,i.jsxs)("a",{href:n.url,target:"_blank",children:[n.name," ↗"]})},n.name)})})]})}},55024:function(){}}]);
//# sourceMappingURL=3598.bffc3e781296dd03.js.map