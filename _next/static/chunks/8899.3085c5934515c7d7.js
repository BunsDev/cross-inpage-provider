(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8899],{23044:function(n,e,o){"use strict";o.d(e,{p:function(){return r}}),o(67294);var t=o(99034),c=o.n(t),i=o(85893);function r(n){var e=n.dapps;return(0,i.jsxs)("div",{className:c().container,children:[(0,i.jsx)("h3",{children:"Top DApps"}),(0,i.jsx)("ul",{children:e.map(function(n){return(0,i.jsx)("li",{children:(0,i.jsxs)("a",{href:n.url,target:"_blank",children:[n.name," ↗"]})},n.name)})})]})}},24395:function(n,e,o){"use strict";o.r(e),o.d(e,{default:function(){return m}});var t=o(15861),c=o(97685),i=o(67294),r=o(59917),s=o(2845),a=o(38310),l=o.n(a),u=o(77191),d=o.n(u),f=o(23044),h=[{name:"Magic Eden",url:"https://magiceden.io/"},{name:"Mean Finance",url:"https://app.meanfi.com/"},{name:"Saber",url:"https://app.saber.so/"},{name:"ORCA",url:"https://www.orca.so/"},{name:"Rarible",url:"https://rarible.com/connect"},{name:"Raydium",url:"https://raydium.io/swap/"}],g=o(85893),p=(0,r.Wf)("devnet"),y=new r.nh("8yAmEoio2d7DszNucNzKf4AqW2JfGRJ1z5Nu9czdrgc1"),w=function(){var n=(0,i.useState)(),e=(0,c.Z)(n,2),o=e[0],t=e[1];return(0,i.useEffect)(function(){var n,e=window.solana||(null==(n=window.phantom)?void 0:n.solana)||new s.i({});window._solana=e,t(e)},[]),o};function m(){var n,e,o,s,a,u,m,x=w(),b=(0,i.useMemo)(function(){return new r.ew(p)},[]),v=(0,i.useState)(!1),j=(0,c.Z)(v,2)[1],k=(0,i.useState)(null),C=(0,c.Z)(k,2),S=C[0],T=C[1];if((0,i.useEffect)(function(){if(x)return x.connect({onlyIfTrusted:!0}).catch(function(n){}),x.on("connect",function(n){T(n),j(!0),console.log("solana [connect] "+n.toBase58())}),x.on("disconnect",function(){T(null),j(!1),console.log("solana [disconnect] \uD83D\uDC4B")}),x.on("accountChanged",function(n){T(n),n?console.log("solana [accountChanged] Switched account to "+(null==n?void 0:n.toBase58())):(console.log("solana [accountChanged] Switched unknown account"),x.connect().then(function(){return console.log("[accountChanged] Reconnected successfully")}).catch(function(n){console.log("solana [accountChanged] Failed to re-connect: "+n.message)}))}),function(){x.disconnect()}},[x]),!x)return(0,g.jsx)("h2",{children:"Could not find a provider"});var A=(n=(0,t.Z)(function*(){try{yield x.connect()}catch(n){console.warn(n),console.log("[error] connect: "+JSON.stringify(n))}}),function(){return n.apply(this,arguments)}),N=(e=(0,t.Z)(function*(){try{yield x.disconnect()}catch(n){console.warn(n),console.log("[error] disconnect: "+JSON.stringify(n))}}),function(){return e.apply(this,arguments)}),Z=function(){if(x.publicKey){var n=new r.YW().add(r.yc.transfer({fromPubkey:x.publicKey,toPubkey:y,lamports:r.j5/100}));return n.feePayer=x.publicKey,n.recentBlockhash="GLXLbuzf788BVk738RKcgNWftzGHwjzXzVPAxFDt8naQ",n}},M=(o=(0,t.Z)(function*(){if(x.publicKey){console.log("Requesting airdrop");var n=yield b.requestAirdrop(x.publicKey,r.j5);console.log("Waiting for airdrop..."),yield b.confirmTransaction(n),console.log("Airdrop confirmed!")}}),function(){return o.apply(this,arguments)}),z=(s=(0,t.Z)(function*(){try{var n=Z();if(!n)return;var e=(yield x.signAndSendTransaction(n)).signature;console.log("Submitted transaction, signature: ",e),console.log("Awaiting confirmation");var o=yield b.confirmTransaction(e);console.log("Transaction confirmed: ",o)}catch(n){console.warn(n),console.log("[error] sendTransaction: "+JSON.stringify(n))}}),function(){return s.apply(this,arguments)}),K=(a=(0,t.Z)(function*(){try{var n=Z();if(!n)return;var e=yield x.signTransaction(n);console.log("Signed transaction: ",d().encode(e.serialize()))}catch(n){console.warn(n),console.log("[error] signTransaction: ",n)}}),function(){return a.apply(this,arguments)}),D=(u=(0,t.Z)(function*(){try{var n=yield Promise.all([Z(),Z()]),e=(0,c.Z)(n,2),o=e[0],t=e[1];if(o&&t){var i=yield x.signAllTransactions([o,t]);console.log("signMultipleTransactions txns: ",i)}}catch(n){console.warn(n),console.log("[error] signMultipleTransactions: ",n)}}),function(){return u.apply(this,arguments)}),E=(m=(0,t.Z)(function*(){try{var n=new TextEncoder().encode("Hello, world!"),e=yield x.signMessage(n,"hex");if(!e.signature)return;console.log("Message signed: ",e);var o=l().sign.detached.verify(n,e.signature,e.publicKey.toBytes());console.log("Message verified: ",o)}catch(n){console.warn(n),console.log("[error] signMessage: ",n)}}),function(){return m.apply(this,arguments)});return(0,g.jsxs)("div",{children:[(0,g.jsx)(f.p,{dapps:h}),!x&&(0,g.jsx)("a",{target:"_blank",href:"https://www.onekey.so/download/",children:"Install OneKey Extension →"}),(0,g.jsx)("main",{children:x&&S?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("pre",{children:["Network: ",p]}),(0,g.jsxs)("pre",{children:["Connected as: ",S.toBase58()]})]}),(0,g.jsx)("button",{onClick:M,children:"Request Airdrop"}),(0,g.jsx)("button",{onClick:z,children:"Sign&Send Transaction"}),(0,g.jsx)("button",{onClick:K,children:"Sign Transaction "}),(0,g.jsx)("button",{onClick:D,children:"Sign All Transactions"}),(0,g.jsx)("button",{onClick:E,children:"Sign Message"}),(0,g.jsx)("button",{onClick:function(){return N()},children:"Disconnect"})]}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("button",{onClick:function(){return A()},children:"Connect Wallet"})})}),(0,g.jsx)("a",{target:"_blank",href:"https://codesandbox.io/s/github/phantom-labs/sandbox?file=/src/App.tsx",children:"Go to official test Dapp →"})]})}},7420:function(){},35139:function(){},11922:function(){},55024:function(){}}]);
//# sourceMappingURL=8899.3085c5934515c7d7.js.map