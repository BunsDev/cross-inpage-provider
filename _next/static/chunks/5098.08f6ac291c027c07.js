(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5098],{23044:function(e,n,o){"use strict";o.d(n,{p:function(){return c}}),o(67294);var t=o(99034),s=o.n(t),r=o(85893);function c(e){var n=e.dapps;return(0,r.jsxs)("div",{className:s().container,children:[(0,r.jsx)("h3",{children:"Top DApps"}),(0,r.jsx)("ul",{children:n.map(function(e){return(0,r.jsx)("li",{children:(0,r.jsxs)("a",{href:e.url,target:"_blank",children:[e.name," â†—"]})},e.name)})})]})}},40841:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return h}});var t=o(15861),s=o(97685),r=o(67294),c=o(67647),l=o(23044),i=[{name:"Polkadot.js",url:"https://polkadot.js.org/apps"},{name:"Bifrost",url:"https://bifrost.app/"},{name:"Polkaswap",url:"https://polkaswap.io/"}],a=o(95482),u=o(91394),d=o(24342),g=o(96644),p=o(63707),f=o(85893);function h(){var e,n,o,h=(0,r.useState)(!1),v=(0,s.Z)(h,2),x=v[0],y=v[1],m=(0,r.useState)(null),j=(0,s.Z)(m,2),S=j[0],k=j[1],b=(0,r.useState)(),w=(0,s.Z)(b,2),Z=w[0],W=w[1],A=(0,r.useState)(),C=(0,s.Z)(A,2),M=C[0],N=C[1];(0,r.useEffect)(function(){var e;if(Z)return(0,t.Z)(function*(){e=yield(0,a.Fm)(function(e){console.log("[web3AccountsSubscribe]",JSON.stringify(e))})})(),function(){null==e||e()}},[Z]);var _=(e=(0,t.Z)(function*(){try{var e=yield(0,a.vK)();console.log("[getAccounts apiAccounts]",e);var n=yield Z.accounts.get();return console.log("[getAccounts]",n),n}catch(e){console.warn(e),console.log("[error] getAccounts: "+JSON.stringify(e))}}),function(){return e.apply(this,arguments)}),E=(n=(0,t.Z)(function*(){try{var e=new u.U("wss://rpc.polkadot.io"),n=yield(0,a.$y)("my cool dapp"),o=(0,s.Z)(n,1)[0],t=yield d.G.create({provider:e});if(N(t),o){W(o);var r=yield o.accounts.get(),c=(0,s.Z)(r,1)[0];k(c.address),y(!0),console.log("[connectWallet] account",r),console.log("[connectWallet] provider.name",o.name),console.log("[connectWallet] provider.version",o.version),console.log("[connectWallet] provider.metadata",o.metadata),console.log("[connectWallet] provider.provider",o.provider),console.log("[connectWallet] provider.signer",o.signer)}else console.log("[error] connectWallet",n)}catch(e){console.warn(e),console.log("[error] connectWallet: "+JSON.stringify(e))}}),function(){return n.apply(this,arguments)}),G=(o=(0,t.Z)(function*(){if(Z){var e,n=yield(0,a.vK)(),o=(0,s.Z)(n,1)[0],t=yield(0,a.R0)(o.meta.source),r=null==t?void 0:null==(e=t.signer)?void 0:e.signRaw;if(r)try{var l=(0,g.$)("message to sign"),i=(yield r({address:o.address,data:l,type:"bytes"})).signature;console.log("[executeSignMessage] signature",i),(0,c.D)((0,p.G)(l),(0,p.G)(i),o.address).isValid?console.log("[executeSignMessage] Valid success"):console.log("[executeSignMessage] Valid error")}catch(e){console.log("[executeSignMessage] error",e)}else console.log("[executeSignMessage] error","signRaw is undefined")}}),function(){return o.apply(this,arguments)});return(0,f.jsxs)("div",{children:[(0,f.jsx)(l.p,{dapps:i}),(0,f.jsx)("main",{children:x?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("button",{onClick:_,children:"Get Accounts"}),(0,f.jsx)("button",{onClick:function(){Z&&M.tx.balances.transfer(S,123456).signAndSend(S,{signer:Z.signer},function(e){console.log("[executeTransfer] status",e)}).catch(function(e){console.log("[executeTransfer] error",e)})},children:"Sign & Execute Transaction"}),(0,f.jsx)("button",{onClick:G,children:"Sign Message"})]}):(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("button",{onClick:function(){return E()},children:"Connect Wallet"})})})]})}},95856:function(){},70573:function(){},55024:function(){}}]);
//# sourceMappingURL=5098.08f6ac291c027c07.js.map